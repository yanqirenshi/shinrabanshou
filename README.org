* 森羅万象(shinrabanshou)

Common Lisp On-Memory Objective Graph Database.

Common Lisp ネイティブでポータブルかつシンプルな GraphDatabase を目指しています。

外部のDBを利用すれば良いのでしょうが、セットアップや利用方法などに悩まされます。
- とりあえず使えること。
- シンプルであること。
- AICD(?) とか難しいことは考えないこと。
- セットアップにストレスを覚えないこと。
- 利用するこにストレスを覚えないこと。

永続化ライブラリは [[https://github.com/yanqirenshi/upanishad][upanishad]] を利用します。


** Usage
なんかまだ使いかた出来とらんけぇ、作りながら整理しとるところじゃけぇ。

#+BEGIN_SRC lisp
(in-package :shinrabanshou)
(asdf:load-system :shinrabanshou)
(defvar *pool* nil)
(setf *pool* (make-banshou 'banshou pool-stor))

(shinra-test::run!)
#+END_SRC

*** オペレータ
**** ノード/エッジの作成/削除
| 内容                                     | non exec-tran  | with exec-tran |
|------------------------------------------+----------------+----------------|
| ノードの作成                             | tx-make-node   | make-node      |
| ノードの削除                             | tx-delete-node | delete-node    |
| エッジの作成                             | tx-make-edge   | make-edge      |
| エッジの削除                             | tx-delete-edge | @dev           |
| エッジの開始or終点のノードを変更します。 | tx-change-node | @dev           |
| エッジのエッジタイプを変更します。       | tx-change-type | @dev           |

**** 述語
| 対象                 | ノード | エッジ |
|----------------------+--------+--------|
| オブジェクトの型確認 | nodep  | edgep  |
| pool上での存在確認   | existp | 同左   |

**** エッジ
| operator       | description                              |
|----------------+------------------------------------------|
| get-from-node  | エッジの開始ノードを返します。           |
| get-to-node    | エッジの終点ノードを返します。           |

**** ファインダー
| operator    | description |
|-------------+-------------|
| get-r       |             |
| get-r-edge  |             |
| get-r-node  |             |
|-------------+-------------|
| find-r-edge |             |
| find-r      |             |
| find-r-node |             |

**** インデックス(全面実装中)
| operator      | arg                                 |
|---------------+-------------------------------------|
| create-index  | banshou user class-symbol slot-list |
| remove-index  | banshou user class-symbol index     |
| rebuild-index | banshou user class-symbol index     |

**** 印刷
| operator        | arg                          |
|-----------------+------------------------------|
| print-root-list |                              |
| print-user-list | ユーザーの一覧を印字します。 |

** Dependencies
| library    | description                            |
|------------+----------------------------------------|
| alexandria | ユーティリティ                         |
| cl-ppcre   | 正規表現ライブラリ                     |
| cl+        | ユーティリティ                         |
| upanishad  | オブジェクトDB(cl-prevalence クローン) |

** Installation
#+BEGIN_SRC lisp
(asdf:load-system :shinrabanshou)
(asdf:load-system :shinrabanshou-test)
#+END_SRC


** Author

+ Satoshi Iwasaki (yanqirenshi@gmail.com)

* Copyright

Copyright (c) 2014 Satoshi Iwasaki (yanqirenshi@gmail.com)

* License

Licensed under the LLGPL License.

